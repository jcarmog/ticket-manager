server:
  port: 8080 # Added default port (optional, but good practice)
  servlet:
    session:
      timeout: 60m

spring:
  application:
    name: ticket-manager

  messages:
    basename: i18n/messages

  # Mail Configuration
  mail:
    host: localhost
    port: 1025
    # Uses environment variable if set, otherwise defaults to the value after the colon
    username: ${MAIL_USERNAME:no-reply@ticketmanager.com}
    password: ${MAIL_PASSWORD:hello}
    properties:
      mail:
        smtp:
          ssl:
            trust: "*"
          auth: true
          starttls:
            enable: true
          connectiontimeout: 5000
          timeout: 3000

  # Database Configuration
  datasource:
    url: jdbc:mysql://localhost:3306/ticket_db?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:root}
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA/Hibernate Configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

  # Security / OAuth2 Configuration
  security:
    oauth2:
      client:
        registration:
          google:
            # SECURITY NOTE: It is best practice to remove the hardcoded keys
            # and only use ${GOOGLE_CLIENT_ID} in production files.
            client-id: ${GOOGLE_CLIENT_ID:972791132937-3isnetor9a0u9ub2ip40n08jl2h1mj5h.apps.googleusercontent.com}
            client-secret: ${GOOGLE_CLIENT_SECRET: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}
            scope:
              - email
              - profile
          # Un-comment below to add Azure AD support later
          # azure-active-directory:
          #   client-id: ${AZURE_CLIENT_ID:placeholder}
          #   client-secret: ${AZURE_CLIENT_SECRET:placeholder}
          #   scope:
          #     - openid
          #     - profile
          #     - email

# Swagger / OpenAPI Configuration
springdoc:
  swagger-ui:
    path: /swagger-ui.html
    disable-swagger-default-url: true
  api-docs:
    path: /v3/api-docs

# Actuator Configuration
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      show-details: always
    prometheus:
      enabled: true